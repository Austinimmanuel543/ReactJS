(this.webpackJsonpecom_books=this.webpackJsonpecom_books||[]).push([[0],{125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},130:function(e,t,a){},140:function(e,t,a){},142:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(15),o=a.n(s),i=(a(125),a(9)),r=(a(126),a(127),a(199)),l=a(184),j=a(185),d=a(85),b=a(186),u=a(204),h=a(205),m=a(187),O=a(25);a(78),a(95),a(149);O.a.apps.length?O.a.app():O.a.initializeApp({apiKey:"AIzaSyDTrOyNC5qTXeBzGQYovXGrpwYUIKkxC_0",authDomain:"ecom-books.firebaseapp.com",projectId:"ecom-books",storageBucket:"ecom-books.appspot.com",messagingSenderId:"294495034922",appId:"1:294495034922:web:3250cb251567d712406d53",measurementId:"G-K2EFV6FZRK"});var x={db:O.a.firestore(),auth:O.a.auth(),storage:O.a.storage()},p=(a(130),a(180)),f=n.a.createContext(),g=a(183),v=a(2),k=function(e){var t=Object(c.useState)({}),a=Object(i.a)(t,2),n=a[0],s=a[1],o=Object(c.useState)(!0),r=Object(i.a)(o,2),l=r[0],j=r[1],d=Object(c.useContext)(f),b=x.db.collection("userbooks").doc(d.email),u=x.storage;Object(c.useEffect)((function(){return x.db.collection("books").doc(e.book).get().then((function(e){s(e.data()),j(!1)})),function(){s({})}}),[e.book]);return!l&&Object(v.jsxs)("div",{className:"mybook",children:[Object(v.jsx)("img",{src:n.img,alt:e.book}),Object(v.jsxs)("div",{className:"mybook__field",children:[Object(v.jsxs)("p",{className:"mybook__name",children:[Object(v.jsx)("strong",{children:"Book Name :"}),n.name]}),Object(v.jsxs)("p",{className:"mybook__price",children:[Object(v.jsx)("strong",{children:"Book Price :"}),n.price]}),Object(v.jsxs)("p",{className:"mybook__price",children:[Object(v.jsx)("strong",{children:"Book Categary :"}),n.category]}),Object(v.jsxs)("p",{className:"mybook__price",children:[Object(v.jsx)("strong",{children:"Book Type:"}),n.type]})]}),l?Object(v.jsx)(p.a,{color:"secondary"}):Object(v.jsx)("button",{onClick:function(){j(!0),x.db.collection("books").doc(e.book).delete().then((function(){b.update({books:O.a.firestore.FieldValue.arrayRemove(e.book)}).then((function(){u.refFromURL(n.img).delete().then((function(){console.log("File Deleted Successfully"),j(!1)})).catch((function(e){console.log(e),j(!1)}))}))})).catch((function(e){console.log(e),j(!1)}))},children:"Delete"}),Object(v.jsx)(g.a,{})]})},y=a(79),S=a.n(y),N=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1];return[a,function(e){n(e)}]},_=function(e){var t={display:"block",margin:"0 auto"},a=Object(c.useContext)(f),s=n.a.useState(!0),o=Object(i.a)(s,2),p=o[0],g=o[1],y=N(),_=Object(i.a)(y,2),C=_[0],A=_[1],F=n.a.useState(""),B=Object(i.a)(F,2),I=B[0],E=B[1],w=n.a.useState(""),T=Object(i.a)(w,2),D=T[0],R=T[1],L=n.a.useState(0),P=Object(i.a)(L,2),U=P[0],W=P[1],z=n.a.useState(""),M=Object(i.a)(z,2),K=M[0],V=M[1],q=n.a.useState(""),J=Object(i.a)(q,2),Y=J[0],G=J[1],H=n.a.useState(""),X=Object(i.a)(H,2),Q=X[0],Z=X[1],$=n.a.useState(""),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ce=n.a.useState([]),ne=Object(i.a)(ce,2),se=ne[0],oe=ne[1],ie=x.db.collection("books"),re=x.db.collection("userbooks").doc(a.email),le=x.storage.ref(),je=function(){return Object(v.jsx)("div",{className:"body__myAccountImage",children:Object(v.jsx)("img",{src:URL.createObjectURL(te),alt:te.name})})},de=Object(l.a)((function(e){return{root:{"& > *":{margin:e.spacing(5)}}}}))();return Object(c.useEffect)((function(){var e=x.db.collection("userbooks").doc(a.email).onSnapshot((function(e){e.exists?(oe(e.data().books),g(!1)):g(!1)}));return function(){e()}}),[a.email]),Object(v.jsxs)("div",{className:"body__myAccount",children:[Object(v.jsx)(n.a.Fragment,{children:Object(v.jsxs)(j.a,{maxWidth:"lg",children:[Object(v.jsx)(d.a,{color:"primary",variant:"h4",component:"h4",children:"Add books"}),Object(v.jsxs)("form",{onSubmit:function(e){(e.preventDefault(),""!==I&&""!==Q&&""!==K&&""!==D&&0!==U&&""!==Y)?(g(!0),le.child(te.name).put(te).then((function(e){e.ref.getDownloadURL().then((function(e){var t={name:I,type:Q,category:K,description:D,price:Number(U),author:Y,img:e};ie.add(t).then((function(e){se.length>0?re.update({books:O.a.firestore.FieldValue.arrayUnion(e.id)}).then((function(e){console.log("Document is update")})):re.set({books:[e.id]}).then((function(e){console.log("Document Setted")}))})),g(!1)}))}))):A("Please specify more data for The Book");E(""),ae(""),W(0),R(""),Z(""),G(""),V("")},className:de.root,noValidate:!0,autoComplete:"off",children:[Object(v.jsxs)(b.a,{variant:"outlined",children:[Object(v.jsx)(u.a,{htmlFor:"name",children:"Name"}),Object(v.jsx)(h.a,{id:"name",value:I,onChange:function(e){return E(e.target.value)},label:"Name"}),Object(v.jsx)(m.a,{id:"component-helper-text",children:"Name Of The Book"})]}),Object(v.jsxs)(b.a,{variant:"outlined",children:[Object(v.jsx)(u.a,{htmlFor:"description",children:"Description"}),Object(v.jsx)(h.a,{id:"description",value:D,onChange:function(e){return R(e.target.value)},label:"Name"}),Object(v.jsx)(m.a,{id:"component-helper-text",children:"Description For the Book"})]}),Object(v.jsxs)(b.a,{variant:"outlined",children:[Object(v.jsx)(u.a,{htmlFor:"price",children:"Price"}),Object(v.jsx)(h.a,{id:"price",value:U,onChange:function(e){return W(e.target.value)},label:"Name"}),Object(v.jsx)(m.a,{id:"component-helper-text",children:"Price For the Book"})]}),Object(v.jsxs)(b.a,{variant:"outlined",children:[Object(v.jsx)(u.a,{htmlFor:"author",children:"Author"}),Object(v.jsx)(h.a,{id:"author",value:Y,onChange:function(e){return G(e.target.value)},label:"Name"}),Object(v.jsx)(m.a,{id:"component-helper-text",children:"Author For the Book"})]}),Object(v.jsxs)(b.a,{variant:"outlined",children:[Object(v.jsx)(u.a,{htmlFor:"type",children:"Type"}),Object(v.jsx)(h.a,{id:"type",value:Q,onChange:function(e){return Z(e.target.value)},label:"Name"}),Object(v.jsx)(m.a,{id:"component-helper-text",children:"Type For the Book"})]}),Object(v.jsxs)(b.a,{variant:"outlined",children:[Object(v.jsx)(u.a,{htmlFor:"category",children:"Category"}),Object(v.jsx)(h.a,{id:"category",value:K,onChange:function(e){return V(e.target.value)},label:"Name"}),Object(v.jsx)(m.a,{id:"component-helper-text",children:"Category For the Book"})]}),Object(v.jsx)("label",{htmlFor:"file",children:"Choose a file : "}),Object(v.jsx)("input",{type:"file",id:"file",className:"inputfile",name:"file",onChange:function(e){ae(e.target.files[0])}}),te&&Object(v.jsx)(je,{}),Object(v.jsx)("div",{children:p?Object(v.jsx)(S.a,{loading:p,css:t,size:150}):Object(v.jsx)("button",{id:"smt-button",type:"submit",children:"Submit"})}),C&&Object(v.jsx)(r.a,{severity:"error",children:C})]})]})}),Object(v.jsx)("div",{className:"body__myAccountMyBooks",children:Object(v.jsx)(n.a.Fragment,{children:Object(v.jsxs)(j.a,{maxWidth:"lg",children:[Object(v.jsx)(d.a,{color:"secondary",variant:"h4",component:"h4",children:"My Books"}),p?Object(v.jsx)(S.a,{loading:p,css:t,size:150}):se.length<=0?Object(v.jsx)("p",{children:"No Books"}):se.map((function(e){return Object(v.jsx)(k,{book:e},e)}))]})})})]})},C=a(14),A=(a(140),function(e){var t=Object(C.h)().book;return Object(v.jsxs)("div",{className:"bookdescription",children:[Object(v.jsxs)("div",{className:"bookdescription__title",children:[Object(v.jsx)("img",{src:t.book.img,alt:t.book.id}),Object(v.jsx)("h1",{children:t.book.name})]}),Object(v.jsxs)("h3",{children:["Author : ",t.book.author]}),Object(v.jsx)("p",{children:t.book.description}),Object(v.jsxs)("h3",{children:["Price : ",t.book.price]}),Object(v.jsxs)("h3",{children:["Type : ",t.book.type]}),Object(v.jsxs)("h3",{children:["Categary :",t.book.category]})]})}),F=(a(142),a(83)),B=a.n(F),I=a(82),E=a.n(I),w=a(190),T=a(189),D=function(e){var t=Object(C.g)();return{logOut:function(){x.auth.signOut().then((function(){localStorage.removeItem("user"),e(),t.replace("/sign")})).catch((function(e){console.log(e)}))}}},R=a(101),L=a.n(R),P=a(84),U=a.n(P),W=Object(l.a)((function(e){return{small:{width:e.spacing(4),height:e.spacing(4)},root:{display:"flex"},paper:{marginRight:e.spacing(2)}}})),z=function(e){var t=Object(C.g)(),a=D(e.handleAuth).logOut,s=W(),o=Object(c.useContext)(f),r=function(e){a()},l=n.a.useState(!1),j=Object(i.a)(l,2),d=j[0],b=j[1];return Object(v.jsxs)("div",{className:"nav__master",children:[Object(v.jsxs)("div",{className:"nav",children:[Object(v.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/50/Closed_Book_Icon.svg/1200px-Closed_Book_Icon.svg.png",alt:"book"}),!e.isCart&&Object(v.jsx)("input",{value:e.search,onChange:e.handleSearch,type:"text"}),Object(v.jsx)(T.a,{id:"displayNav",onClick:function(){b((function(e){return!e}))},children:Object(v.jsx)(L.a,{})}),Object(v.jsxs)("div",{className:"nav__links",children:[Object(v.jsx)("div",{className:"nav__linksButton",children:Object(v.jsx)(T.a,{onClick:function(){t.push("/")},children:Object(v.jsx)(E.a,{fontSize:"small",className:s.small})})}),Object(v.jsx)("div",{className:"nav__linksButton",children:Object(v.jsx)(T.a,{onClick:function(){t.push("/cart")},children:Object(v.jsx)(w.a,{badgeContent:e.cartLength,children:Object(v.jsx)(B.a,{fontSize:"small",className:s.small})})})}),Object(v.jsx)("div",{className:"nav__linksButton",children:Object(v.jsx)(T.a,{onClick:function(){t.push("/myaccount")},children:Object(v.jsx)(U.a,{fontSize:"small",className:s.small})})}),Object(v.jsxs)("div",{className:"nav__linksButton",children:[Object(v.jsx)("span",{className:"nav__linksEmail",children:o.email}),Object(v.jsx)("div",{onClick:r,className:"nav__linksLogout",children:"Logout"})]})]})]}),d&&Object(v.jsx)("div",{className:"nav__linksMobileIcon",children:Object(v.jsxs)("ul",{className:"nav__linksMobileList",children:[Object(v.jsx)("li",{children:Object(v.jsxs)("a",{href:"/",children:[Object(v.jsx)(E.a,{fontSize:"small",className:s.small}),"Home"]})}),Object(v.jsx)("li",{children:Object(v.jsxs)("a",{href:"/myaccount",children:[Object(v.jsx)(U.a,{fontSize:"small",className:s.small}),"My Books"]})}),Object(v.jsx)("li",{children:Object(v.jsxs)("a",{href:"/cart",children:[Object(v.jsx)(B.a,{fontSize:"small",className:s.small}),"Cart"]})}),Object(v.jsx)("li",{onClick:r,children:"Logout"})]})})]})},M=a(103),K=(a(144),a(145),a(48)),V=a(191),q=n.a.forwardRef((function(e,t){return Object(v.jsxs)("div",{ref:t,className:"book",children:[Object(v.jsx)(K.b,{to:{pathname:"/product",book:{book:e.book.book}},children:Object(v.jsxs)("div",{className:"book__container",children:[Object(v.jsx)("img",{src:e.book.book.img,alt:""}),Object(v.jsxs)("div",{className:"book__containerDesc",children:[Object(v.jsx)("h3",{children:e.book.book.name}),Object(v.jsxs)("h3",{className:"book__containerDescAuthor author",children:["By: ",e.book.book.author]}),Object(v.jsxs)("h3",{className:"book__containerDescAuthor",children:["Cost: $",e.book.book.price]})]})]})}),Object(v.jsxs)("div",{className:"book__button",children:[Object(v.jsx)(V.a,{color:"primary",className:"book__buttonAdd",onClick:function(){e.action({type:"ADD_TO_BASKET",payload:{price:e.book.book.price,id:e.book.id}}),e.isAdded(!0),e.handleClick()},children:"Add to Basket"}),Object(v.jsx)(V.a,{color:"secondary",className:"book__buttonRemove",onClick:function(){e.action({type:"REMOVE_FROM_BASKET",payload:{price:e.book.book.price,id:e.book.id}}),e.isAdded(!1),e.handleClick()},children:"Remove"})]})]})})),J=a(71),Y=a.n(J),G=a(202),H=function(e){var t=n.a.createRef(),a=n.a.useState(""),s=Object(i.a)(a,2),o=s[0],l=s[1],j=n.a.useState([]),d=Object(i.a)(j,2),b=d[0],u=d[1],h=n.a.useState([]),m=Object(i.a)(h,2),O=m[0],p=m[1],f=n.a.useState(!0),g=Object(i.a)(f,2),k=g[0],y=g[1],S=n.a.useState(!1),N=Object(i.a)(S,2),_=N[0],C=N[1],A=n.a.useState(!0),F=Object(i.a)(A,2),B=F[0],I=F[1],E=function(){C(!0)},w=function(e,t){"clickaway"!==t&&C(!1)};return Object(c.useEffect)((function(){x.db.collection("books").get().then((function(e){p(e.docs.map((function(e){return{id:e.id,book:e.data()}}))),u(Object(M.a)(new Map(e.docs.map((function(e){return[e.data().category,e.data()]}))).values())),y(!1)}))}),[]),k?Object(v.jsx)(Y.a,{color:"black",css:{display:"flex",margin:"auto"},loading:k,size:150}):Object(v.jsxs)("div",{className:"body",children:[Object(v.jsx)(G.a,{open:_,autoHideDuration:6e3,onClose:w,children:Object(v.jsx)(r.a,{ref:t,elevation:6,variant:"filled",onClose:w,severity:B?"success":"error",children:B?"Added to Basket":"Removed From Basket"})}),Object(v.jsx)("div",{className:"body__filter",children:Object(v.jsxs)("div",{className:"body__filterCategory",children:[Object(v.jsx)("label",{htmlFor:"category",children:"Category : "}),Object(v.jsxs)("select",{id:"category",value:o,onChange:function(e){l(e.target.value)},children:[Object(v.jsx)("option",{value:"",children:"All"},0),b.map((function(e,t){return Object(v.jsx)("option",{value:e.category,children:e.category},t+1)}))]})]})}),Object(v.jsx)("div",{className:"body__normalBody",children:""===o?O.map((function(t){return t.book.name.includes(e.search)&&Object(v.jsx)(q,{isAdded:I,book:t,handleClick:E,action:e.dispatch},t.id)})):O.map((function(t){return o===t.book.category&&Object(v.jsx)(q,{isAdded:I,handleClick:E,book:t,action:e.dispatch},t.id)}))})]})},X=a(43),Q=function(e){var t=Object(c.useReducer)((function(t,a){console.log(e.email);var c=x.db.collection("cart").doc(e.email);switch(a.type){case"ADD_TO_BASKET":return c.get().then((function(e){if(e.exists){var t=e.data(),n=!0;t.products.forEach((function(e,c){if(e.item===a.payload.id){var s=e.count+1;t.products[c].count=s,n=!1}})),n&&t.products.push({count:1,item:a.payload.id,price:a.payload.price}),c.set(t)}else c.set({products:[{item:a.payload.id,count:1,price:a.payload.price}]})})),Object(X.a)({},t);case"REMOVE_FROM_BASKET":return c.get().then((function(e){if(e.exists){var t=e.data(),n=function(e,t){var a=-1;return e.forEach((function(e,c){if(e.item===t)return a=c})),a}(t.products,a.payload.id);n>-1&&(t.products[n].count>1?t.products[n].count=t.products[n].count-1:t.products.splice(n,1))}c.set(t)})),Object(X.a)({},t);default:return Object(X.a)({},t)}}),{basket:[],basketLength:0}),a=Object(i.a)(t,2);return{state:a[0],dispatch:a[1]}},Z=function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],s=a[1];return{search:n,handleSearch:Object(c.useCallback)((function(e){s(e.target.value)}),[s])}},$=a(203),ee=a(193),te=a(197),ae=a(194),ce=a(200),ne=a(192),se=a(195),oe=a(198),ie=a(73),re=a.n(ie);var le=function(){return Object(v.jsxs)(d.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(v.jsx)(ne.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})},je=Object(l.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var de=function(e){var t=je(),a=Object(c.useState)(""),n=Object(i.a)(a,2),s=n[0],o=n[1],l=Object(c.useState)(""),b=Object(i.a)(l,2),u=b[0],h=b[1],m=Object(c.useState)(!1),O=Object(i.a)(m,2),p=O[0],f=O[1],g=Object(c.useState)({}),k=Object(i.a)(g,2),y=k[0],S=k[1],N=Object(C.g)();return Object(v.jsxs)(j.a,{component:"main",maxWidth:"xs",children:[Object(v.jsx)(ee.a,{}),Object(v.jsxs)("div",{className:t.paper,children:[Object(v.jsx)($.a,{className:t.avatar,children:Object(v.jsx)(re.a,{})}),Object(v.jsx)(d.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(v.jsxs)("form",{onSubmit:function(t){t.preventDefault(),x.auth.signInWithEmailAndPassword(s,u).then((function(t){localStorage.setItem("user",JSON.stringify({email:t.user.email,uid:t.user.uid,refreshToken:t.user.refreshToken})),e.handleAuth(),e.setUser(t.user),N.replace("/")})).catch((function(e){S(e)}))},className:t.form,noValidate:!0,children:[Object(v.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:s,autoComplete:"email",onChange:function(e){return o(e.target.value)},autoFocus:!0}),Object(v.jsx)(te.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:u,onChange:function(e){return h(e.target.value)},autoComplete:"current-password"}),Object(v.jsx)(ae.a,{control:Object(v.jsx)(ce.a,{value:p,onChange:function(e){return f(!p)},color:"primary"}),label:"Remember me"}),Object(v.jsx)(V.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"}),Object(v.jsxs)(se.a,{container:!0,children:[Object(v.jsx)(se.a,{item:!0,xs:!0,children:Object(v.jsx)(ne.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(v.jsx)(se.a,{item:!0,children:Object(v.jsx)(ne.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),0!==Object.keys(y).length&&Object(v.jsx)(r.a,{severity:"error",children:y.message}),Object(v.jsx)(oe.a,{mt:8,children:Object(v.jsx)(le,{})})]})},be=a(207),ue=(a(146),function(e){var t=Object(c.useContext)(f),a=Object(c.useState)({}),n=Object(i.a)(a,2),s=n[0],o=n[1],r=Object(c.useState)(!1),l=Object(i.a)(r,2),j=l[0],d=l[1],b=e.cartitem;Object(c.useEffect)((function(){var e=x.db.collection("books").doc(b.item.toString()).onSnapshot((function(e){e.exists&&(o(e.data()),d(!1))}));return function(){e()}}),[b]);var u=Q(t).dispatch;return Object(v.jsxs)("div",{className:"cartitem",children:[j?Object(v.jsx)("img",{alt:"loading",src:"https://media3.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif"}):Object(v.jsx)("img",{alt:s.price,src:s.img}),Object(v.jsxs)("div",{className:"cartitem__details",children:[Object(v.jsxs)("p",{children:["Price : ",s.price,"  "]}),Object(v.jsxs)("p",{children:["Quantity : ",e.cartitem.count]}),Object(v.jsxs)("p",{children:["Subtotal : ",s.price&&(parseFloat(b.count)*parseFloat(s.price)).toFixed(2)]})]}),Object(v.jsx)("button",{onClick:function(){return u({type:"REMOVE_FROM_BASKET",payload:{price:s.price,id:e.cartitem.item.toString()}})},children:"Remove"})]})}),he=a(196),me=(a(147),function(e){var t=Object(c.useContext)(f),a=Object(c.useState)({}),s=Object(i.a)(a,2),o=s[0],l=s[1],d=Object(c.useState)(0),b=Object(i.a)(d,2),u=b[0],h=b[1],m=n.a.useState(!0),O=Object(i.a)(m,2),p=O[0],g=O[1],k=n.a.useState(""),y=Object(i.a)(k,2),S=y[0],N=y[1];return Object(c.useEffect)((function(){var e=x.db.collection("cart").doc(t.email).onSnapshot((function(e){if(e.exists){var t=0;l(e.data()),e.data().products.length<=0&&N("No Items in the Cart !"),e.data().products.forEach((function(e,a){t+=e.price*e.count})),h(t),g(!1)}else N("No Items in the Cart !"),g(!1)}));return function(){e(),h(0)}}),[t.email]),p?Object(v.jsx)(Y.a,{color:"black",css:{display:"flex",margin:"auto"},loading:p,size:150}):Object(v.jsxs)("div",{className:"cart",children:[Object(v.jsx)(z,{isCart:e.isCart,basket:e.basket,cartLength:e.cartLength,search:e.search,handleAuth:e.handleAuth,handleSearch:e.handleSearch}),Object(v.jsxs)(n.a.Fragment,{children:[Object(v.jsx)(ee.a,{}),Object(v.jsxs)(j.a,{fixed:!0,children:[S?Object(v.jsxs)(r.a,{severity:"info",children:[Object(v.jsx)(he.a,{children:"Add Item to Cart"}),S]}):Object(v.jsx)(be.a,{component:"div",children:void 0!==o.products&&o.products.map((function(e){return Object(v.jsx)(ue,{cartitem:e},e.item)}))}),Object(v.jsxs)("div",{className:"cart__placeOrder",children:[Object(v.jsxs)("h1",{children:["Total :  ",u&&u.toFixed(2)]}),Object(v.jsx)("button",{className:o.products.length>0?"cart__placeOrderEnabled":"cart__placeOrderDisabled",children:"Place The Order"})]})]})]})]})}),Oe=a(72),xe=function(e){var t=Object(c.useState)({}),a=Object(i.a)(t,2),n=a[0],s=a[1];return{input:n,handleSubmit:function(t){t&&t.preventDefault(),e()},handleInputChange:function(e){e.persist(),s((function(t){return Object(X.a)(Object(X.a)({},t),{},Object(Oe.a)({},e.target.name,e.target.value))}))}}},pe=a(102),fe=a.n(pe),ge=Object(l.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function ve(){var e=ge(),t=N(),a=Object(i.a)(t,2),n=a[0],s=a[1],o=Object(c.useState)(""),l=Object(i.a)(o,2),b=l[0],u=l[1],h=Object(c.useState)(!1),m=Object(i.a)(h,2),O=m[0],p=m[1],f=xe((function(){p(!0),x.auth.createUserWithEmailAndPassword(g.email,g.password).then((function(e){e&&e.user.updateProfile({displayName:g.firstName+" "+g.lastName}).then((function(){u("User Created Login To Continue !"),p(!1)}))})).catch((function(e){s(e.message),p(!1)}))})),g=f.input,k=f.handleSubmit,y=f.handleInputChange;return Object(v.jsxs)(j.a,{component:"main",maxWidth:"xs",children:[Object(v.jsx)(ee.a,{}),Object(v.jsxs)("div",{className:e.paper,children:[Object(v.jsx)($.a,{className:e.avatar,children:Object(v.jsx)(re.a,{})}),Object(v.jsx)(d.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(v.jsxs)("form",{className:e.form,onSubmit:k,noValidate:!0,children:[Object(v.jsxs)(se.a,{container:!0,spacing:2,children:[Object(v.jsx)(se.a,{item:!0,xs:12,sm:6,children:Object(v.jsx)(te.a,{autoComplete:"fname",name:"firstName",variant:"outlined",onChange:y,required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(v.jsx)(se.a,{item:!0,xs:12,sm:6,children:Object(v.jsx)(te.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",onChange:y,label:"Last Name",name:"lastName",autoComplete:"lname"})}),Object(v.jsx)(se.a,{item:!0,xs:12,children:Object(v.jsx)(te.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",onChange:y,label:"Email Address",name:"email"})}),Object(v.jsx)(se.a,{item:!0,xs:12,children:Object(v.jsx)(te.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",onChange:y,label:"Password",type:"password",id:"password"})})]}),O?Object(v.jsx)(fe.a,{color:"blue",loading:O,css:{display:"block",margin:"0 auto"},size:150}):Object(v.jsx)(V.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign Up"}),n&&Object(v.jsx)(r.a,{severity:"error",children:n}),b&&Object(v.jsx)(r.a,{severity:"success",children:b}),Object(v.jsx)(se.a,{container:!0,justify:"flex-end",children:Object(v.jsx)(se.a,{item:!0,children:Object(v.jsx)(ne.a,{href:"/sign",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(v.jsx)(oe.a,{mt:5,children:Object(v.jsx)(le,{})})]})}var ke=function(){var e=Z(),t=e.search,a=e.handleSearch,s=Object(c.useState)(!1),o=Object(i.a)(s,2),r=o[0],l=o[1],j=Object(c.useState)({}),d=Object(i.a)(j,2),b=d[0],u=d[1],h=Object(c.useState)([]),m=Object(i.a)(h,2),p=m[0],g=m[1],k=function(){l(!r)};Object(c.useEffect)((function(){null!=localStorage.getItem("user")&&(u(JSON.parse(localStorage.getItem("user"))),l(!0));var e=O.a.auth().onAuthStateChanged((function(e){e?(u(e),localStorage.setItem("user",JSON.stringify({email:e.email,uid:e.uid,refreshToken:e.refreshToken}))):(localStorage.removeItem("user"),l(!1),u({}),g([]))})),t=x.db.collection("cart").doc(b.email).onSnapshot((function(e){e.exists&&g(e.data().products)}));return function(){e(),t(),l(!1),u({}),g([])}}),[b.email]);var y=Q(b).dispatch;return Object(v.jsx)(K.a,{children:Object(v.jsx)("div",{className:"app",children:Object(v.jsxs)(C.d,{children:[Object(v.jsx)(C.b,{exact:!0,path:"/myaccount",children:Object(v.jsx)(f.Provider,{value:b,children:Object(v.jsxs)(n.a.Fragment,{children:[Object(v.jsx)(z,{cartLength:p.length,isCart:!1,search:t,setUser:u,handleAuth:k,handleSearch:a}),Object(v.jsx)(_,{})]})})}),Object(v.jsx)(C.b,{exact:!0,path:"/product",children:Object(v.jsx)(f.Provider,{value:b,children:Object(v.jsxs)(n.a.Fragment,{children:[Object(v.jsx)(z,{cartLength:p.length,isCart:!1,search:t,setUser:u,handleAuth:k,handleSearch:a}),Object(v.jsx)(A,{})]})})}),Object(v.jsx)(C.b,{exact:!0,path:"/cart",children:Object(v.jsx)(f.Provider,{value:b,children:Object(v.jsx)(me,{isCart:!0,cartLength:p.length,search:t,setUser:u,handleAuth:k,handleSearch:a})})}),Object(v.jsx)(C.b,{exact:!0,path:"/",children:r?Object(v.jsx)(f.Provider,{value:b,children:Object(v.jsxs)(n.a.Fragment,{children:[Object(v.jsx)(z,{cartLength:p.length,isCart:!1,search:t,setUser:u,handleAuth:k,handleSearch:a}),Object(v.jsx)(H,{dispatch:y,search:t})]})}):Object(v.jsx)(C.a,{to:"/sign"})}),Object(v.jsx)(C.b,{exact:!0,path:"/sign",children:r?Object(v.jsx)(C.a,{to:"/"}):Object(v.jsx)(de,{handleAuth:k})}),Object(v.jsx)(C.b,{exact:!0,path:"/signup",children:Object(v.jsx)(ve,{})})]})})})},ye=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,209)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),c(e),n(e),s(e),o(e)}))};o.a.render(Object(v.jsx)(ke,{}),document.getElementById("root")),ye()}},[[148,1,2]]]);
//# sourceMappingURL=main.1e8abae5.chunk.js.map